---
title: Text Generation Part 1
status: pending
---
<div class="container mt-4">
<h1>Text generation Part One</h1>
<p class="lead">Prerequisites: You should have a <a href="https://developer.mozilla.org/en-US/docs/Learn">basic working knowledge</a> of JavaScript and HTML and have read about <a href="{{ site.baseurl }}{% link index.html %}">getting started</a>.</p>
<p>ISHML's text generation API is accessed via a call to <code>ISHML.Phrase</code>.  The API facilitates the creation of complex text generation functions using a templating system based on Javascript's <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literal</a> notation. Specifically, <code>ishml.Phrase</code> is a tag function that may be used with template literal notation or standard function call notation. It returns a custom text generation function. <b>Note: this tutorial refers to the function returned by <code>ishml.Phrase</code> as a <q>phrase</q>. Anytime you see the word phrase, think custom text generation function.</b>  We will start with simple phrases and then advance to nested, recursive, conditional, and looping text generation as well as introduce various phrase prefixes, and suffixes. You will get the most out of this tutorial if you experiment with the examples. Just click the link in the code listings to edit them in JSFiddle.</p>
<h1>Hello, World</h1>	
<p>Listing 1 below shows the <i>Hello World</i> web page for <code>ishml.Phrase</code>.  If you click on the results tab, you will see a greeting. Clicking the results tab again or clicking on the <q>Click here</q> link updates the greeting.</p>

<iframe id="listing1" width="100%" height="200" src="//jsfiddle.net/bikibird/w40tvp6f/latest/embedded/html,js,result/?fontColor=ffffff&menuColor=17a2b8" frameborder="0" class="shadow" title="Listing 1"></iframe>

<p>Switch to the HTML tab.  The ishml.js script provides access to <code>ishml.Phrase</code>. the second script, en-us.js, is an optional library of modern american english prefixes and suffixes to be used with phrases. Both scripts are often used together for English language text generation.</p>
<p>Switch to the Javascript tab and study the code. First, we assign <code>ishml.Phrase</code> to a variable represented by an underscore.  This is simply for convenience so that we don't have to type out <code>ishml.Phrase</code> over and over. The underscore was chosen because it reflects the "fill in the blanks" nature of text generation. Next we assign a phrase to the myPhrase variable. This phrase happens to be a nested phrase. The outer phrase, <q>Hello, _____</q>, has an expression, denoted by <code>${...}</code>, which is also a phrase.  The inner phrase fills in the blank of the outer phrase with a random planet each time the text is generated. The lasst line of script does the actual work of generating the text and places it inside the <code>h1</code> element.</p>
<h1>Creating Phrases</h1>
<p>The syntax for creating phrases is designed to get out of your way and let you have a sense of the text to be generated just by glancing at the code.  Sometimes template literal notation is preferred, sometimes standard function call notation is easier.  Sometimes a deeply nested inline structure is the most straightforward, sometimes it is less confusing to predefine the inner phrases separately and then reference them in the outer phrase. It is often just a matter of style and as you become more familiar with phrases, you will develop your own style.  Listing 2 below demonstrates many styles of phrase creation.</p>

<iframe id="listing2" width="100%" height="300" src="//jsfiddle.net/bikibird/t5dx8aj1/latest/embedded/js/?fontColor=ffffff&menuColor=17a2b8" frameborder="0" class="shadow"  title="Listing 2"></iframe>


<p>Example 1 defines a phrase by using template literal notation. (If you are unfamiliar with template literals and tagged templates, please be sure to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">read up</a> on them before continuing this tutorial.)  Unlike standard template literals, <code>ishml.Phrase</code> returns a text generation function, not a simple string. The actual string, <q>Hello, world</q>, in <code>example1</code> is hidden away in an array attached to the function.</p>
<p>Examples 2, 3, and 5 show the creation of phrases using standard function call notation. The <i>a</i> variation of the examples show each data value passed as a separate argument.  The <i>b</i> variation passes in a single array of values.  Both variations produce identical results.  While it is common for the data to be a series of strings, you may also pass in complex data objects, phrases, numbers, or even functions that return phrases, strings, or numbers.  You may mix any of these types freely. </p>
<p>Examples 4a and 4b are nested phrases, which mix both notation styles.  The outer phrase is defined using template literal notation.  The expression inside the template, denoted by <code>${...}</code>, is a phrase. Acceptable expressions are expression that evaluate to phrases, strings, numbers, or functions that when called during evaluation return phrases, strings, or numbers.</p>
<p>Examples 6a and 6b are empty phrases devoid of data.  Leaving the data out of nested phrases can sometimes make the code easier to read.  Data may always be added or replaced after the initial creation of a phrase.  </p>

<h1>Populating Phrases</h1>
<p>Phrase data may be updated anytime by calling the phrase with data.  Listing 3 shows some examples of populating phrases with data.</p>

<iframe id="listing3" width="100%" height="300" src="//jsfiddle.net/bikibird/phwym1ns/latest/embedded/js/?fontColor=ffffff&menuColor=17a2b8" frameborder="0" class="shadow"  title="Listing 3"></iframe>
<p>Examine how the <code>worlds</code> phrase is populated.  Is is being populated with a list of arguments or an array of values. The incoming data will completely replace the phrase's internal array of data.</p>
<p> Often, we want to be more selective when populating a phrase and send data to to specific sub-phrases. This is done by tagging the sub-phrases when the phrase is defined.  Study the definition of <code>myPhrase</code>.  The phrase uses template literal notations and contains two expressions, which are phrases.   The sub-phrases have the <code>tag</code> suffix appended to them.  This assigns an ID tag to each of the phrases, <q>planet</q> and <q>remark</q>. Tagged phrases provide a means for referencing specific sub-phrases when populating the outer phrase. In this example myPhrase is called with an Object as an argument.  The property keys of the Object are matched against the ID tags of the sub-phrases and the data contained in each matching property of the Object is sent to populate the sub-phrase.</p>

<h1>Saying Something</h1>
<p>Now that we know how to define and populate phrases, let's generate some text.</p>

<iframe id="listing4" width="100%" height="320" src="//jsfiddle.net/bikibird/ohkpn7gu/latest/embedded/html,js,result/?fontColor=ffffff&menuColor=17a2b8" frameborder="0" class="shadow"  title="Listing 4"></iframe>

<p>Examine the Javascript in listing 4 above.  Phrases are evaluated by calling the phrase's <code>say()</code> method. This method updates the phrase's <code>text</code> property with the generated text string and then returns the phrase. The first <code>console.log()</code> demonstrates accessing the generated text.  The second demonstrates generating and accessing the text in one statement.</p>
<p>Phrases also provide methods for updating web pages. The <code>replace()</code> method takes a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors">CSS selector string</a> as its argument. This method replaces the contents of all elements in the HTML document matching the selector string with the generated text. <code>append()</code> and <code>prepend()</code> work in a similar manner accept that they append and prepend the elements' contents.  click on the result tab above to see a live demonstration.</p>
<div class="card mt-4 mb-4">
	<div class="card-header" id="q2">
		<p class="text-info">Exercise 1</p>
	</div>
	<div class="card-body">
		<p class="card-text">Click the <i>>edit in JSFiddle</i> link in listing 4.  Change the Javascript code so that the exact same generated text appears in each paragraph.  Hint: recall that <code>.say()</code> regenerates new text each time it is called.</p>
	</div>
</div>
<p>Continue to <a href="{{ site.baseurl }}{% link _tutorials/phrases2.html %}">part two</a> to learn about phrase suffixes.</p>

</div>    

       
